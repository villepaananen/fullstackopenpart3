{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","handlePersonAdd","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Person","name","number","handlePersonDelete","onClick","Persons","persons","map","person","key","toLowerCase","includes","Notification","notification","notificationStyle","background","color","fontWeight","fontSize","borderStyle","borderRadius","marginLeft","marginRight","marginBottom","padding","message","style","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setNotification","useEffect","peopleService","initialPeople","handleNotification","setTimeout","event","target","preventDefault","newPerson","matches","length","concat","catch","error","window","confirm","returnedPerson","p","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.573aa5a5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const Filter = ({ filter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with: <input value={filter} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const PersonForm = ({\r\n  handlePersonAdd,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    <form onSubmit={handlePersonAdd}>\r\n      <div>\r\n        Name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        Number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst Person = ({ name, number, handlePersonDelete }) => {\r\n  return (\r\n    <div>\r\n      {name} {number}\r\n      <button name={name} onClick={handlePersonDelete}>\r\n        delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Persons = ({ persons, filter, handlePersonDelete }) => {\r\n  const rows = () => {\r\n    if (filter === \"\") {\r\n      return persons.map(person => (\r\n        <Person\r\n          name={person.name}\r\n          key={person.name}\r\n          number={person.number}\r\n          handlePersonDelete={handlePersonDelete}\r\n        />\r\n      ));\r\n    } else {\r\n      const filtered = persons.filter(person =>\r\n        person.name.toLowerCase().includes(filter.toLowerCase())\r\n      );\r\n      return filtered.map(person => (\r\n        <Person\r\n          name={person.name}\r\n          key={person.name}\r\n          number={person.number}\r\n          handlePersonDelete={handlePersonDelete}\r\n        />\r\n      ));\r\n    }\r\n  };\r\n\r\n  return <div>{rows()}</div>;\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Notification = ({ notification }) => {\r\n  const notificationStyle = {\r\n    background: \"Linen\",\r\n    color: \"RoyalBlue\",\r\n    fontWeight: \"bold\",\r\n    fontSize: 24,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    marginLeft: 50,\r\n    marginRight: 50,\r\n    marginBottom: 20,\r\n    padding: 10\r\n  };\r\n\r\n  if (notification.message === null) return null;\r\n\r\n  if (notification.type === \"error\") notificationStyle.color = \"Red\";\r\n  else notificationStyle.color = \"RoyalBlue\";\r\n\r\n  return (\r\n    <div style={notificationStyle} className=\"notification\">\r\n      {notification.message}\r\n    </div>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Filter } from \"./components/Filter\";\r\nimport { PersonForm } from \"./components/PersonForm\";\r\nimport { Persons } from \"./components/Persons\";\r\nimport { Notification } from \"./components/Notification\";\r\nimport peopleService from \"./services/persons\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setNewFilter] = useState(\"\");\r\n  const [notification, setNotification] = useState({\r\n    message: null,\r\n    type: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    peopleService.getAll().then(initialPeople => {\r\n      setPersons(initialPeople);\r\n    });\r\n  }, []);\r\n\r\n  const handleNameChange = event => setNewName(event.target.value);\r\n  const handleNumberChange = event => setNewNumber(event.target.value);\r\n  const handleFilterChange = event => setNewFilter(event.target.value);\r\n\r\n  const handleNotification = ({ message, type }) => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => {\r\n      setNotification({ message: null, type: null });\r\n    }, 3000);\r\n  };\r\n\r\n  const handlePersonAdd = event => {\r\n    event.preventDefault();\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n\r\n    const matches = persons.filter(person => person.name === newPerson.name);\r\n    if (matches.length === 0) {\r\n      peopleService\r\n        .create(newPerson)\r\n        .then(data => {\r\n          setPersons(persons.concat(data));\r\n          handleNotification({\r\n            message: `Added ${newPerson.name}.`,\r\n            type: \"notification\"\r\n          });\r\n          setNewName(\"\");\r\n          setNewNumber(\"\");\r\n        })\r\n        .catch(error => {\r\n          handleNotification({\r\n            message: `Person ${newPerson.name} couldn't be added.`,\r\n            type: \"error\"\r\n          });\r\n        });\r\n    } else {\r\n      const result = window.confirm(\r\n        `${newPerson.name} is already added to the phonebook, replace the old number with a new one?`\r\n      );\r\n\r\n      if (result) {\r\n        peopleService\r\n          .update(matches[0].id, newPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(\r\n              persons.map(person =>\r\n                person.id !== matches[0].id ? person : returnedPerson\r\n              )\r\n            );\r\n            handleNotification({\r\n              message: `Updated ${newPerson.name} with number ${newPerson.number}.`,\r\n              type: \"notification\"\r\n            });\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n          })\r\n          .catch(error => {\r\n            handleNotification({\r\n              message: `Person ${newPerson.name} was already removed from the server.`,\r\n              type: \"error\"\r\n            });\r\n            setPersons(persons.filter(p => p.name !== newPerson.name));\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePersonDelete = event => {\r\n    event.preventDefault();\r\n    const person = persons.find(p => p.name === event.target.name);\r\n    const result = window.confirm(\r\n      `Are you sure you want to delete ${person.name}?`\r\n    );\r\n    if (result) {\r\n      peopleService\r\n        .remove(person.id)\r\n        .then(response => {\r\n          setPersons(persons.filter(p => p.name !== person.name));\r\n          handleNotification({\r\n            message: `Removed ${person.name}.`,\r\n            type: \"notification\"\r\n          });\r\n        })\r\n        .catch(error => {\r\n          handleNotification({\r\n            message: `Person ${person.name} was already removed from the server.`,\r\n            type: \"error\"\r\n          });\r\n          setPersons(persons.filter(p => p.name !== person.name));\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n      <h2>Add a new</h2>\r\n      <PersonForm\r\n        handlePersonAdd={handlePersonAdd}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <Persons\r\n        persons={persons}\r\n        filter={filter}\r\n        handlePersonDelete={handlePersonDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}